---
- name: Ping specific hosts
  hosts: windows
  gather_facts: false
  vars:
    target_hosts:
      - 8.8.8.8
      - 127.0.0.1

  tasks:
    - name: Ping each target host
      ansible.windows.win_shell: ping -n 1 {{ item }}
      register: ping_result
      loop: "{{ target_hosts }}"
      ignore_errors: yes

    - name: Display ping results
      debug:
        msg: "Ping result for {{ item.item }}: {{ item.stdout }}"
      loop: "{{ ping_result.results }}"